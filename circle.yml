general:
  artifacts:
    - "test_report.txt"
    - "saltobserver_app.log"

machine:
  timezone:
    Europe/Berlin
  environment:
    SALTOBSERVER_SETTINGS: config.py
  python:
    version: 2.7.8
  services:
    - redis

dependencies:
  override:
    - pip install -r requirements.txt
    - pip install nose coverage tissue

test:
  override:
    - make test

deployment:
  pypi:
    branch: release
    commands:
      - make pypi-info
      - make deploy
